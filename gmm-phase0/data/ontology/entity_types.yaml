# Entity Type Schemas for Synthetic Biographical Worlds

person:
  attributes:
    name:
      type: string
      generated: true  # Generated by name generator

    birth_year:
      type: integer
      range: [1200, 2100]
      required: true

    death_year:
      type: integer
      range_fn: "lambda birth_year: (birth_year + 20, birth_year + 120)"
      nullable: true
      probability_alive: 0.3  # 30% of people are still alive

    occupation:
      type: enum
      values:
        - merchant
        - scholar
        - soldier
        - healer
        - builder
        - farmer
        - artisan
        - governor
        - explorer
        - teacher
        - smith
        - weaver
      required: true

    birthplace:
      type: reference
      ref_type: place
      required: true

  relations:
    works_at:
      type: reference
      ref_type: organization
      nullable: true
      probability: 0.6  # 60% of people work at an organization

    lives_in:
      type: reference
      ref_type: place
      required: true

    married_to:
      type: reference
      ref_type: person
      nullable: true
      probability: 0.4  # 40% of people are married
      constraints:
        - mutual  # If A married to B, then B married to A

    child_of:
      type: reference
      ref_type: person
      nullable: true
      probability: 0.5  # 50% have known parents in dataset

    apprentice_of:
      type: reference
      ref_type: person
      nullable: true
      probability: 0.3  # 30% have a known mentor

organization:
  attributes:
    name:
      type: string
      generated: true

    founded_year:
      type: integer
      range: [800, 2050]
      required: true

    dissolved_year:
      type: integer
      range_fn: "lambda founded_year: (founded_year + 1, founded_year + 500)"
      nullable: true
      probability_active: 0.6  # 60% of orgs still active

    headquarters:
      type: reference
      ref_type: place
      required: true

    org_type:
      type: enum
      values:
        - guild
        - academy
        - council
        - company
        - temple
        - hospital
        - library
        - workshop
        - theater
        - monastery
      required: true

  relations:
    founded_by:
      type: reference
      ref_type: person
      required: true

    subsidiary_of:
      type: reference
      ref_type: organization
      nullable: true
      probability: 0.2  # 20% are subsidiaries

place:
  attributes:
    name:
      type: string
      generated: true

    population:
      type: integer
      range: [100, 10000000]
      distribution: log_uniform  # More small places than large
      required: true

    founded_year:
      type: integer
      range: [500, 2000]
      required: true

    place_type:
      type: enum
      values:
        - village
        - town
        - city
        - capital
        - outpost
        - port
        - fortress
        - trading_post
      required: true

    region:
      type: string
      generated: true  # Generated region name

  relations:
    capital_of:
      type: reference
      ref_type: string  # Region name
      nullable: true
      probability: 0.05  # 5% of places are regional capitals

    borders:
      type: list
      ref_type: place
      max_items: 6
      probability: 0.7  # 70% have known borders

    governed_by:
      type: reference
      ref_type: person
      nullable: true
      probability: 0.6  # 60% have a known governor

object:
  attributes:
    name:
      type: string
      generated: true  # Artifact names

    created_year:
      type: integer
      range: [100, 2100]
      required: true

    material:
      type: enum
      values:
        - iron
        - silver
        - gold
        - crystal
        - wood
        - stone
        - cloth
        - bronze
        - marble
        - jade
      required: true

    object_type:
      type: enum
      values:
        - weapon
        - tool
        - artifact
        - document
        - vessel
        - instrument
        - sculpture
        - jewelry
        - book
        - map
      required: true

  relations:
    created_by:
      type: reference
      ref_type: person
      required: true

    owned_by:
      type: reference
      ref_type: person
      nullable: true
      probability: 0.7  # 70% have known owner

    located_at:
      type: reference
      ref_type: place
      nullable: true
      probability: 0.5  # 50% have known location

event:
  attributes:
    name:
      type: string
      generated: true

    year:
      type: integer
      range: [500, 2100]
      required: true

    event_type:
      type: enum
      values:
        - battle
        - founding
        - treaty
        - discovery
        - coronation
        - disaster
        - celebration
        - rebellion
        - expedition
        - eclipse
      required: true

  relations:
    occurred_at:
      type: reference
      ref_type: place
      required: true

    participants:
      type: list
      ref_type: person
      min_items: 1
      max_items: 10
      required: true

    caused_by:
      type: reference
      ref_type: event
      nullable: true
      probability: 0.3  # 30% have a known cause
